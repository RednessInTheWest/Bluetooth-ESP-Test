<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ESP32-C6 LED Controller</title>
  <style>
    body { font-family: Arial; text-align: center; padding-top: 40px; }
    button { font-size: 20px; padding: 15px 30px; margin: 10px; }
  </style>
</head>
<body>

  <h1>ESP32-C6 LED Controller</h1>
  <button id="connect">Connect</button>
  <br><br>
  <button id="onBtn">LED ON</button>
  <button id="offBtn">LED OFF</button>

  <script>
    let device, server, service, characteristic;

    const SERVICE_UUID = "12345678-1234-5678-1234-56789abcdef0";
    const CHAR_UUID = "12345678-1234-5678-1234-56789abcdef1";

    document.getElementById("connect").onclick = async () => {
      try {
        device = await navigator.bluetooth.requestDevice({
          filters: [{ name: "ESP32C6_LED" }],
          optionalServices: [SERVICE_UUID]
        });

        server = await device.gatt.connect();
        service = await server.getPrimaryService(SERVICE_UUID);
        characteristic = await service.getCharacteristic(CHAR_UUID);

        alert("Connected to ESP32-C6!");
      } catch (error) {
        alert("Connection failed: " + error);
      }
    };

    document.getElementById("onBtn").onclick = () => {
      if (characteristic) characteristic.writeValue(new TextEncoder().encode("1"));
    };

    document.getElementById("offBtn").onclick = () => {
      if (characteristic) characteristic.writeValue(new TextEncoder().encode("0"));
    };
  </script>

</body>
</html>
